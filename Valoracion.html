<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Valoración de Centro</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background-color: #f4f4f9;
    }
    .rating {
      display: flex;
      justify-content: center;
      gap: 5px;
    }
    .star {
      font-size: 30px;
      cursor: pointer;
      color: #ccc;
    }
    .star.selected {
      color: #FFD700;
    }
    textarea {
      width: 100%;
      height: 100px;
      padding: 10px;
      margin-top: 10px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }
    button {
      margin-top: 10px;
      padding: 10px 20px;
      background-color: #004d4d;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    button:hover {
      background-color: #004d4d;
    }
    .saved-data {
      margin-top: 20px;
      padding: 10px;
      background-color: #191822;
      border: 1px solid #004d4d;
      border-radius: 5px;
    }
    .saved-data button {
      background-color: #004d4d;
    }
    .saved-data button:hover {
      background-color: #004d4d;
    }

    /* Estilos del botón de modo oscuro */
.toggle-mode {
  background-color: #004d4d; /* Fondo del botón de modo oscuro */
  font-size: 1.5rem; /* Tamaño grande de la fuente */
  color: white; /* Color de texto blanco */
  border: none; /* Sin borde */
  padding: 10px 15px; /* Espaciado dentro del botón */
  cursor: pointer; /* Cambia el cursor a puntero cuando pasa sobre el botón */
  font-size: 16px; /* Tamaño de fuente más pequeño para el botón */
  position: absolute; /* Posicionar el botón de forma absoluta */
  top: 15px; /* Distancia desde la parte superior */
  right: 120px; /* Distancia desde la parte derecha, ajustada para separar más de otros elementos */
  transition: background-color 0.3s; /* Efecto de transición suave para el cambio de color */
}

   /* Efecto de borde redondeado al pasar el cursor (solo en modo oscuro) */
   body.dark-mode .info:hover,
        body.dark-mode .toggle-mode:hover,
        body.dark-mode .back-btn:hover {
            border-radius: 15px;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }

/* Estilos del botón de volver */
nav .back-btn {
  color: white; /* Color del texto blanco */
  text-decoration: none; /* Eliminar subrayado */
  font-size: 1.2rem; /* Tamaño de fuente más pequeño */
  background-color: #004d4d; /* Fondo del botón de volver */
  border-radius: 5px; /* Bordes redondeados */
  padding: 5px 15px; /* Espaciado dentro del botón */
  transition: background-color 0.3s; /* Efecto de transición suave para el cambio de color */
  display: inline-block; /* Hace que el botón ocupe solo el espacio necesario */
  text-align: center; /* Centra el texto en el botón */
  position: absolute; /* Posición absoluta para alinearlo a la derecha */
  top: 15px; /* Distancia desde la parte superior */
  right: 20px; /* Distancia desde la parte derecha */
}

/* Cambio de color del botón de volver al pasar el cursor */
nav .back-btn:hover {
  background-color: #006666; /* Cambio de color cuando el cursor está sobre el botón */
  border-radius: 5px; /* Mantener los bordes redondeados al pasar el cursor */
}

/* Estilos de la barra de navegación */
nav {
  background-color: #004d4d; /* Color de fondo para la barra de navegación */
  text-align: center; /* Centrar los elementos de la barra */
}

nav ul {
  list-style-type: none; /* Eliminar los puntos de las listas */
  padding: 0; /* Eliminar el relleno */
  margin: 0; /* Eliminar el margen */
}

nav ul li {
  display: inline-block; /* Mostrar los elementos de la lista en línea */
  position: relative; /* Posición relativa para los submenús */
}


nav ul li a {
  display: block; /* Hacer que los enlaces ocupen todo el espacio del contenedor */
  color: white; /* Color de texto blanco para los enlaces */
  text-decoration: none; /* Eliminar subrayado de los enlaces */
  padding: 10px 15px; /* Espaciado dentro de los enlaces */
  text-align: center; /* Centrar el texto de los enlaces */
}

nav ul li ul {
  display: none; /* Ocultar los submenús por defecto */
  position: absolute; /* Posición absoluta para los submenús */
  top: 100%; /* Colocar los submenús justo debajo de los elementos principales */
  left: 0; /* Alinear los submenús a la izquierda */
  background-color: #004d4d; /* Fondo del submenú */
}

nav ul li:hover > ul {
  display: block; /* Mostrar los submenús cuando el elemento principal esté en hover */
}

nav ul li ul li a {
  padding: 10px 20px; /* Espaciado más grande para los elementos del submenú */
}

/* Estilos del contenedor de contenido */
.container {
  padding: 20px; /* Agregar relleno a la sección de contenido */
}

/* Estilos de las secciones */
section {
  margin-bottom: 20px; /* Separar las secciones entre sí */
}

section h2 {
  color: #004d4d; /* Color del encabezado de las secciones */
}

section ul {
  list-style-type: none; /* Eliminar los puntos de las listas */
  padding: 0; /* Eliminar el relleno */
}

section ul li {
  margin: 5px 0; /* Separar los elementos de la lista */
}


/* Modo oscuro */
body.dark-mode {
  background-color: #333; /* Fondo oscuro en el modo oscuro */
  color: #f4f4f4; /* Texto claro en el modo oscuro */
}

body.dark-mode header {
  background-color: #004d4d; /* Fondo de cabecera igual en modo oscuro */
}

body.dark-mode nav {
  background-color: #004d4d; /* Fondo de la barra de navegación igual en modo oscuro */
}

body.dark-mode nav ul li a {
  color: #ddd; /* Color de los enlaces más claros en modo oscuro */
}

body.dark-mode nav ul li ul {
  background-color: #004d4d; /* Fondo de submenú igual en modo oscuro */
}

body.dark-mode footer {
  background-color: #222; /* Fondo oscuro para el pie de página en modo oscuro */
}

  /* Estilos generales */
  body {
  font-family: Arial, sans-serif; /* Definir la fuente principal */
  margin: 0; /* Eliminar márgenes predeterminados */
  padding: 0; /* Eliminar relleno predeterminado */
  background-color: #f4f4f4; /* Color de fondo claro para el cuerpo */
  color: #333; /* Color de texto predeterminado */
}

h1, h2 {
  margin: 20px; /* Agregar margen a los encabezados */
}

/* Estilos de la cabecera */
header {
  background-color: #004d4d; /* Color de fondo verde oscuro para la cabecera */
  color: white; /* Color del texto blanco */
  text-align: center; /* Centrar el texto en la cabecera */
  padding: 15px; /* Relleno interno para dar espacio al contenido */
}

header h1 {
  margin: 0; /* Eliminar márgenes del título principal */
}

/* Estilos del botón de modo oscuro */
.toggle-mode {
  background-color: #004d4d; /* Fondo del botón de modo oscuro */
  font-size: 1.5rem; /* Tamaño grande de la fuente */
  color: white; /* Color de texto blanco */
  border: none; /* Sin borde */
  padding: 10px 15px; /* Espaciado dentro del botón */
  cursor: pointer; /* Cambia el cursor a puntero cuando pasa sobre el botón */
  font-size: 16px; /* Tamaño de fuente más pequeño para el botón */
  position: absolute; /* Posicionar el botón de forma absoluta */
  top: 15px; /* Distancia desde la parte superior */
  right: 120px; /* Distancia desde la parte derecha, ajustada para separar más de otros elementos */
  transition: background-color 0.3s; /* Efecto de transición suave para el cambio de color */
}

   /* Efecto de borde redondeado al pasar el cursor (solo en modo oscuro) */
   body.dark-mode .info:hover,
        body.dark-mode .toggle-mode:hover,
        body.dark-mode .back-btn:hover {
            border-radius: 15px;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }

/* Estilos del botón de volver */
nav .back-btn {
  color: white; /* Color del texto blanco */
  text-decoration: none; /* Eliminar subrayado */
  font-size: 1.2rem; /* Tamaño de fuente más pequeño */
  background-color: #004d4d; /* Fondo del botón de volver */
  border-radius: 5px; /* Bordes redondeados */
  padding: 5px 15px; /* Espaciado dentro del botón */
  transition: background-color 0.3s; /* Efecto de transición suave para el cambio de color */
  display: inline-block; /* Hace que el botón ocupe solo el espacio necesario */
  text-align: center; /* Centra el texto en el botón */
  position: absolute; /* Posición absoluta para alinearlo a la derecha */
  top: 15px; /* Distancia desde la parte superior */
  right: 20px; /* Distancia desde la parte derecha */
}

/* Cambio de color del botón de volver al pasar el cursor */
nav .back-btn:hover {
  background-color: #006666; /* Cambio de color cuando el cursor está sobre el botón */
  border-radius: 5px; /* Mantener los bordes redondeados al pasar el cursor */
}

/* Estilos de la barra de navegación */
nav {
  background-color: #004d4d; /* Color de fondo para la barra de navegación */
  text-align: center; /* Centrar los elementos de la barra */
}

nav ul {
  list-style-type: none; /* Eliminar los puntos de las listas */
  padding: 0; /* Eliminar el relleno */
  margin: 0; /* Eliminar el margen */
}

nav ul li {
  display: inline-block; /* Mostrar los elementos de la lista en línea */
  position: relative; /* Posición relativa para los submenús */
}


nav ul li a {
  display: block; /* Hacer que los enlaces ocupen todo el espacio del contenedor */
  color: white; /* Color de texto blanco para los enlaces */
  text-decoration: none; /* Eliminar subrayado de los enlaces */
  padding: 10px 15px; /* Espaciado dentro de los enlaces */
  text-align: center; /* Centrar el texto de los enlaces */
}

nav ul li ul {
  display: none; /* Ocultar los submenús por defecto */
  position: absolute; /* Posición absoluta para los submenús */
  top: 100%; /* Colocar los submenús justo debajo de los elementos principales */
  left: 0; /* Alinear los submenús a la izquierda */
  background-color: #004d4d; /* Fondo del submenú */
}

nav ul li:hover > ul {
  display: block; /* Mostrar los submenús cuando el elemento principal esté en hover */
}

nav ul li ul li a {
  padding: 10px 20px; /* Espaciado más grande para los elementos del submenú */
}

/* Estilos del contenedor de contenido */
.container {
  padding: 20px; /* Agregar relleno a la sección de contenido */
}

/* Estilos de las secciones */
section {
  margin-bottom: 20px; /* Separar las secciones entre sí */
}

section h2 {
  color: #004d4d; /* Color del encabezado de las secciones */
}

section ul {
  list-style-type: none; /* Eliminar los puntos de las listas */
  padding: 0; /* Eliminar el relleno */
}

section ul li {
  margin: 5px 0; /* Separar los elementos de la lista */
}




  </style>
</head>
<body>

  <header>
    <h1>Valorar Centro de Salud</h1>
    <button class="toggle-mode" onclick="toggleMode()">Modo Oscuro</button>
    <p>En este apartado puedes agregar tu comentario</p>
     <!-- Botón de modo oscuro en la esquina superior derecha -->
</header>

<!-- Barra de navegación con botón de regresar -->
<nav>
<!-- El enlace con la clase back-btn redirige a CentrosS.html al hacer clic -->
<a href="CentrosS.html" class="back-btn">
    <!-- Eliminar la flecha -->
    Volver
</a>
</nav>


  <!-- Aquí empieza el formulario de valoración -->
  <div class="rating">
    <span class="star" data-value="1">★</span>
    <span class="star" data-value="2">★</span>
    <span class="star" data-value="3">★</span>
    <span class="star" data-value="4">★</span>
    <span class="star" data-value="5">★</span>
  </div>

  <div>
    <h3>Comentario:</h3>
    <textarea id="comment" placeholder="Escribe tu comentario aquí..."></textarea>
  </div>

  <button id="submitBtn">Enviar Valoración</button>

  <div class="saved-data" id="savedData" style="display:none;">
    <h3>Valoración Guardada:</h3>
    <p id="savedRating"></p>
    <p id="savedComment"></p>
    <p id="savedDate"></p>
    <button id="editBtn">Editar</button>
    <button id="deleteBtn">Eliminar</button>
  </div>

  <script>
    // Variables para manejar la valoración
    let selectedRating = 0;

    // Obtener todas las estrellas
    const stars = document.querySelectorAll('.star');

    // Evento para seleccionar las estrellas
    stars.forEach(star => {
      star.addEventListener('click', () => {
        selectedRating = parseInt(star.getAttribute('data-value'));
        updateStars();
      });
    });

    // Función para actualizar las estrellas seleccionadas
    function updateStars() {
      stars.forEach(star => {
        if (parseInt(star.getAttribute('data-value')) <= selectedRating) {
          star.classList.add('selected');
        } else {
          star.classList.remove('selected');
        }
      });
    }

    // Función para mostrar los datos guardados
    function showSavedData() {
      const savedRating = localStorage.getItem('rating');
      const savedComment = localStorage.getItem('comment');
      const savedDate = localStorage.getItem('date');
      if (savedRating && savedComment && savedDate) {
        document.getElementById('savedRating').textContent = `Valoración: ${savedRating} estrellas`;
        document.getElementById('savedComment').textContent = `Comentario: ${savedComment}`;
        document.getElementById('savedDate').textContent = `Fecha y Hora: ${savedDate}`;
        document.getElementById('savedData').style.display = 'block';
      }
    }

    // Función para guardar la valoración y comentario en el almacenamiento local
    document.getElementById('submitBtn').addEventListener('click', () => {
      const comment = document.getElementById('comment').value;
      if (selectedRating === 0) {
        alert('Por favor, selecciona una valoración.');
      } else {
        const currentDate = new Date().toLocaleString(); // Obtiene la fecha y hora actual

        // Guardar los datos en el almacenamiento local
        localStorage.setItem('rating', selectedRating);
        localStorage.setItem('comment', comment);
        localStorage.setItem('date', currentDate);

        // Mostrar los datos guardados en la interfaz
        showSavedData();

        alert(`Valoración: ${selectedRating} estrellas\nComentario: ${comment}`);
      }
    });

    // Función para editar los datos
    document.getElementById('editBtn').addEventListener('click', () => {
      const savedComment = localStorage.getItem('comment');
      const savedRating = localStorage.getItem('rating');
      
      document.getElementById('comment').value = savedComment; // Rellenar el comentario
      selectedRating = parseInt(savedRating); // Rellenar la valoración
      updateStars(); // Actualizar las estrellas
      localStorage.removeItem('rating');
      localStorage.removeItem('comment');
      localStorage.removeItem('date');
      document.getElementById('savedData').style.display = 'none'; // Ocultar la sección de datos guardados
    });

    // Función para eliminar los datos
    document.getElementById('deleteBtn').addEventListener('click', () => {
      localStorage.removeItem('rating');
      localStorage.removeItem('comment');
      localStorage.removeItem('date');
      document.getElementById('savedData').style.display = 'none'; // Ocultar la sección de datos guardados
      alert('Valoración eliminada.');
    });

    // Mostrar los datos guardados si ya existen
    window.onload = function() {
      showSavedData();
    };
    
  </script>

   <!-- Footer -->
   <footer>
    <p>© 2024 Directorio de Salud</p>
  </footer>

  <script>
    // Verifica si el usuario ya tiene una preferencia guardada en localStorage
    let currentMode = localStorage.getItem('mode') || 'light';

    // Si el modo guardado es oscuro, aplica el modo oscuro
    if (currentMode === 'dark') {
      document.body.classList.add('dark-mode');
    }

    function toggleMode() {
      document.body.classList.toggle('dark-mode');
      // Cambia el modo actual
      currentMode = (currentMode === 'light') ? 'dark' : 'light';
      // Guarda la preferencia en localStorage
      localStorage.setItem('mode', currentMode);
    }
  </script>
</body>
</html>

